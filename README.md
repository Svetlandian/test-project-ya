# test-project-ya

## Описание и решение проблемы блокировки со стороны Яндекс
Нетипичные для человека быстрые действия драйвера воспринимаются как автоматические действия бота.
Проблема не возникает, если пользователь авторизован.
Для решения блокировки можно использовать новый профиль в браузере (в тесте используется Chrome).
Нужно создать новый профиль, зайти на сайт ya.ru и авторизоваться под любым аккаунтом Яндекс.

## Установка
Для запуска теста и просмотра отчетов понадобятся установленные java jdk, maven, allure cli.
Используемые версии инструментов можно посмотреть в файле .pom
Так же понадобится установленный браузер Chrome.

## Запуск
Для запуска тестов понадобится путь к папке Chrome с данными пользователя и имя директории созданного профиля.
По умолчанию директория с данными пользователя находится по адресу:
C:\Users\<username>\AppData\Local\Google\Chrome\User Data\
В этой директории нужно найти папку нового профиля браузера, которая используется в тестах.

В файле chrome.properties нужно заменить значение следующих переменных на свои: 
--user-data-dir=C:\\Users\\<username>\\AppData\\Local\\Google\\Chrome\\User Data\\
--profile-directory=Profile 1

Запустить выполнение теста можно командой
mvn test

Для генерации allure отчета нужно выполнить из командной строки, находясь в корневой папке проекта:
allure generate allure-results --clean -o allure-report
Для просмотра отчета:
allure open allure-report
